<!-- <header
  class="d-flex justify-content-between align-items-center p-3 bg-opacity-50"
>
  <div class="logo fs-4 fw-bold">ðŸ“š NoteCraft</div>
  <nav class="d-flex gap-3">
    <% if (user) { %> -->
    <!-- User is logged in: Show Search, Username, and Logout -->
    <!-- <a href="/search" class="btn btn-primary">Search</a>
    <a href="/logout" class="btn btn-danger">Logout</a>
    <% } else { %> -->
    <!-- User is not logged in: Show Sign Up and Login -->
    <!-- <a href="/signup" class="btn btn-success">Sign Up</a>
    <a href="/login" class="btn btn-success">Login</a>
    <% } %>
  </nav>
</header> -->

<header class="d-flex justify-content-between align-items-center p-3 bg-opacity-50">
  <div class="logo fs-4 fw-bold">ðŸ“š NoteCraft</div>
  <nav class="d-flex gap-3">
      <% if (user) { %>
      <!-- User is logged in: Show Search, Username, and Logout -->
      <a href="/search" class="btn btn-primary">Search</a>
      <a href="/logout" class="btn btn-danger" id="logoutBtn">Logout</a>
      <% } else { %>
      <!-- User is not logged in: Show Sign Up and Login -->
      <a href="/signup" class="btn btn-success">Sign Up</a>
      <a href="/login" class="btn btn-success">Login</a>
      <% } %>
  </nav>
</header>

<!-- Add session timeout monitoring -->
<% if (user) { %>
<script>
let inactivityTimer;
const TIMEOUT_DURATION = 60000; // 1 minute in milliseconds

function resetTimer() {
  clearTimeout(inactivityTimer);
  inactivityTimer = setTimeout(logout, TIMEOUT_DURATION);
}

function logout() {
  // Changed to use the correct logout path
  window.location.href = '/logout';
}

// Event listeners for user activity
const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];
events.forEach(event => {
  document.addEventListener(event, resetTimer);
});

// Initial timer start
resetTimer();
</script>
<% } %>
